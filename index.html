<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>schedule-widget-Tchan</title>
  

</head>
<body>
<!-- partial:index.partial.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥æ™‚é¸æŠã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        parrot: {
                            orange: '#FF9800',
                            yellow: '#FFC107',
                            green: '#4CAF50',
                            lightgreen: '#8BC34A',
                            lightorange: '#FFB74D'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: transparent;
        }
        .calendar-container {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            background: transparent;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #FF9800 0%, #FF5722 100%);
        }
        .gradient-hover {
            transition: all 0.3s ease;
        }
        .gradient-hover:hover {
            background: linear-gradient(135deg, #FF5722 0%, #E64A19 100%);
            transform: translateY(-2px);
        }
        input[type="date"], select {
            cursor: pointer;
        }
        .result-text {
            transition: all 0.3s ease;
        }
        .date-item {
            animation: fadeIn 0.4s ease-in-out;
            transition: all 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .date-item-remove {
            animation: fadeOut 0.3s ease-in-out;
        }
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(10px); }
        }
        .card {
            background-color: rgba(255, 248, 225, 0.7);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 193, 7, 0.3);
        }
        /* ã‚«ã‚¹ã‚¿ãƒ ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ */
        input[type="radio"] {
            appearance: none;
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border: 2px solid #FF9800;
            border-radius: 50%;
            outline: none;
            transition: all 0.2s ease;
        }
        input[type="radio"]:checked {
            border-color: #FF9800;
            background-color: #FF9800;
            box-shadow: inset 0 0 0 3px white;
        }
        input[type="radio"]:focus {
            box-shadow: 0 0 0 2px rgba(255, 152, 0, 0.2), inset 0 0 0 3px white;
        }
        /* ã‚«ã‚¹ã‚¿ãƒ ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */
        input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border: 2px solid #FF9800;
            border-radius: 4px;
            outline: none;
            transition: all 0.2s ease;
            position: relative;
        }
        input[type="checkbox"]:checked {
            border-color: #FF9800;
            background-color: #FF9800;
        }
        input[type="checkbox"]:checked::after {
            content: '';
            position: absolute;
            left: 5px;
            top: 2px;
            width: 4px;
            height: 8px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        input[type="checkbox"]:focus {
            box-shadow: 0 0 0 2px rgba(255, 152, 0, 0.2);
        }
        /* æ–°ã—ã„ãƒœã‚¿ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .btn-animation {
            position: relative;
            overflow: hidden;
        }
        .btn-animation:after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        .btn-animation:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            20% {
                transform: scale(25, 25);
                opacity: 0.5;
            }
            100% {
                opacity: 0;
                transform: scale(40, 40);
            }
        }
        /* ã‚³ãƒ”ãƒ¼æˆåŠŸæ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes copySuccess {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .copy-success {
            animation: copySuccess 0.4s ease;
        }
        /* è¿½åŠ ãƒœã‚¿ãƒ³ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes addSuccess {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); box-shadow: 0 0 15px rgba(255, 152, 0, 0.6); }
            100% { transform: scale(1); }
        }
        .add-success {
            animation: addSuccess 0.6s ease;
        }
        /* ã‚­ãƒ©ã‚­ãƒ©ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
        .sparkle {
            position: relative;
        }
        .sparkle:before, .sparkle:after {
            content: '';
            position: absolute;
            background: white;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            opacity: 0;
            z-index: 10;
        }
        .sparkle:before {
            top: -5px;
            left: -5px;
        }
        .sparkle:after {
            bottom: -5px;
            right: -5px;
        }
        .sparkle-animation:before {
            animation: sparkleTop 0.6s ease-out;
        }
        .sparkle-animation:after {
            animation: sparkleBottom 0.6s ease-out 0.1s;
        }
        @keyframes sparkleTop {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(0); opacity: 0; }
        }
        @keyframes sparkleBottom {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(0); opacity: 0; }
        }
        
        /* ã‚«ã‚¹ã‚¿ãƒ æ—¥ä»˜é¸æŠã‚¹ã‚¿ã‚¤ãƒ« */
        input[type="date"] {
            position: relative;
        }
        
        input[type="date"]::-webkit-calendar-picker-indicator {
            background: transparent;
            color: transparent;
            cursor: pointer;
            height: 100%;
            left: 0;
            position: absolute;
            right: 0;
            top: 0;
            width: 100%;
        }
        
        .date-input-container {
            position: relative;
        }
        
        .date-input-container:after {
            content: "";
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            pointer-events: none;
            width: 20px;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23FF9800'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
        }
        
        /* æ™‚é–“é¸æŠã‚³ãƒ³ãƒ†ãƒŠ */
        .time-selection {
            transition: all 0.3s ease;
        }
        
        .time-selection.disabled {
            opacity: 0.5;
            pointer-events: none;
        }
        
        /* æ—¥ä»˜ãƒªã‚¹ãƒˆã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º */
        #date-list {
            scrollbar-width: thin;
            scrollbar-color: #FFB74D #FFF8E1;
            overflow-x: hidden; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ– */
            max-width: 100%; /* å¹…ã‚’åˆ¶é™ */
            word-break: break-word; /* é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ˜ã‚Šè¿”ã™ */
        }
        
        #date-list::-webkit-scrollbar {
            width: 6px;
            height: 0; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®é«˜ã•ã‚’0ã« */
        }
        
        #date-list::-webkit-scrollbar-track {
            background: #FFF8E1;
            border-radius: 10px;
        }
        
        #date-list::-webkit-scrollbar-thumb {
            background-color: #FFB74D;
            border-radius: 10px;
            border: 2px solid #FFF8E1;
        }
        
        /* æ—¥ä»˜ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
        .date-item {
            width: 100%;
            box-sizing: border-box;
            white-space: normal; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ˜ã‚Šè¿”ã™ */
        }
        
        /* ã‚³ã‚¬ãƒãƒ¡ã‚­ã‚·ã‚³ã‚¤ãƒ³ã‚³ã‚¹ã‚¿ã‚¤ãƒ« */
        .parrot-bg {
            background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
        }
        
        .parrot-card {
            border: 2px solid #FFC107;
            box-shadow: 0 4px 6px rgba(255, 193, 7, 0.1);
        }
        
        .parrot-header {
            background: linear-gradient(90deg, #FF9800 0%, #FFC107 100%);
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        
        /* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠã‚¹ã‚¿ã‚¤ãƒ« - è‰²ã‚’é€†ã«ã™ã‚‹ */
        .character-option {
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            background-color: #FFF8E1; /* æœªé¸æŠæ™‚ã¯è–„ã„ã‚ªãƒ¬ãƒ³ã‚¸è‰² */
        }
        
        .character-option.selected {
            border-color: #FF9800;
            background-color: white; /* é¸æŠæ™‚ã¯ç™½è‰² */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(255, 152, 0, 0.2);
        }
        
        /* é¸æŠã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
        .character-option.selected::after {
            content: 'âœ“';
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: #FF9800;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* ãƒ‘ãƒ­ãƒƒãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes parrotBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .parrot-icon {
            animation: parrotBounce 2s infinite ease-in-out;
            display: inline-block;
        }
        
        /* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠã®ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
        .character-option:hover:not(.selected) {
            border-color: #FFB74D;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(255, 152, 0, 0.1);
        }
    </style>
</head>
<body style="background: linear-gradient(135deg, #FFF8E1 0%, #FFFDE7 100%);">
    <div class="min-h-screen flex items-center justify-center p-4">
        <div class="calendar-container rounded-xl p-6 w-full max-w-4xl">
            <div class="flex flex-col md:flex-row gap-6">
                <!-- å·¦å´ï¼šå…¥åŠ›ã‚¨ãƒªã‚¢ -->
                <div class="w-full md:w-1/2 space-y-4">
                    <div class="card p-5 rounded-xl shadow-sm parrot-card">
                        <div class="grid grid-cols-1 gap-4">
                            <!-- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠ -->
                            <div>
                                <label class="block text-sm font-medium text-parrot-orange mb-2">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠ</label>
                                <div class="flex gap-3">
                                    <div id="tee-chan" class="character-option flex-1 border-2 border-parrot-lightorange rounded-lg p-3 flex flex-col items-center selected">
                                        <span class="text-2xl mb-1">ğŸ¦œ</span>
                                        <span class="text-parrot-orange font-medium">ãƒ†ã‚£ãƒ¼ã¡ã‚ƒã‚“</span>
                                    </div>
                                    <div id="coco-chan" class="character-option flex-1 border-2 border-gray-200 rounded-lg p-3 flex flex-col items-center">
                                        <span class="text-2xl mb-1">ğŸ¦œ</span>
                                        <span class="text-gray-500 font-medium">ã‚³ã‚³ã¡ã‚ƒã‚“</span>
                                    </div>
                                </div>
                                <p class="text-xs text-parrot-orange mt-2 text-center">â€»é¸ã‚“ã ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®åå‰ãŒæ—¥æ™‚ã®æœ«å°¾ã«è¿½åŠ ã•ã‚Œã¾ã™</p>
                            </div>
                            
                            <!-- æ—¥ä»˜é¸æŠã¨æ™‚åˆ»ãªã—ã‚ªãƒ—ã‚·ãƒ§ãƒ³ -->
                            <div>
                                <div class="flex justify-between items-center mb-1">
                                    <label for="date-picker" class="block text-sm font-medium text-parrot-orange">æ—¥ä»˜</label>
                                    <div class="flex items-center">
                                        <input 
                                            type="checkbox" 
                                            id="no-time" 
                                            class="mr-2"
                                        >
                                        <label for="no-time" class="text-sm text-parrot-orange">æ™‚åˆ»ãªã—</label>
                                    </div>
                                </div>
                                <div class="date-input-container">
                                    <input 
                                        type="date" 
                                        id="date-picker" 
                                        class="w-full px-3 py-2 border border-parrot-yellow rounded-lg focus:outline-none focus:ring-2 focus:ring-parrot-orange bg-white text-parrot-orange"
                                    >
                                </div>
                            </div>
                            
                            <!-- æ™‚é–“é¸æŠï¼ˆé–‹å§‹ãƒ»çµ‚äº†ï¼‰ -->
                            <div id="time-selection" class="time-selection grid grid-cols-2 gap-3">
                                <div>
                                    <label for="start-time" class="block text-sm font-medium text-parrot-orange mb-1">é–‹å§‹æ™‚åˆ»</label>
                                    <select 
                                        id="start-time" 
                                        class="w-full px-3 py-2 border border-parrot-yellow rounded-lg focus:outline-none focus:ring-2 focus:ring-parrot-orange bg-white text-parrot-orange"
                                    >
                                        <!-- æ™‚é–“ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯JSã§ç”Ÿæˆ -->
                                    </select>
                                </div>
                                <div>
                                    <label for="end-time" class="block text-sm font-medium text-parrot-orange mb-1">çµ‚äº†æ™‚åˆ»</label>
                                    <select 
                                        id="end-time" 
                                        class="w-full px-3 py-2 border border-parrot-yellow rounded-lg focus:outline-none focus:ring-2 focus:ring-parrot-orange bg-white text-parrot-orange"
                                    >
                                        <!-- æ™‚é–“ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯JSã§ç”Ÿæˆ -->
                                    </select>
                                </div>
                            </div>
                            
                            <!-- è¿½åŠ ãƒœã‚¿ãƒ³ -->
                            <button 
                                id="add-btn"
                                class="w-full gradient-bg gradient-hover text-white font-medium py-2.5 px-4 rounded-lg transition duration-300 ease-in-out shadow-md btn-animation sparkle"
                            >
                                ï¼‹ æ—¥æ™‚ã‚’è¿½åŠ 
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- å³å´ï¼šçµæœã‚¨ãƒªã‚¢ -->
                <div class="w-full md:w-1/2 space-y-4">
                    <!-- é¸æŠã•ã‚ŒãŸæ—¥æ™‚ã®ãƒªã‚¹ãƒˆ -->
                    <div class="card p-4 rounded-xl shadow-sm parrot-card">
                        <div class="flex justify-between items-center mb-3">
                            <h2 class="text-base font-medium text-parrot-orange">é¸æŠã•ã‚ŒãŸæ—¥æ™‚</h2>
                        </div>
                        <div id="date-list" class="space-y-2 max-h-[120px] overflow-y-auto">
                            <!-- ã“ã“ã«é¸æŠã•ã‚ŒãŸæ—¥æ™‚ãŒè¿½åŠ ã•ã‚Œã¾ã™ -->
                        </div>
                    </div>
                    
                    <!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
                    <div class="card p-4 rounded-xl shadow-sm parrot-card">
                        <div class="flex justify-between items-center mb-2">
                            <h2 class="text-base font-medium text-parrot-orange">ãƒ†ã‚­ã‚¹ãƒˆå‡ºåŠ›</h2>
                            <button 
                                id="copy-btn"
                                class="text-sm gradient-bg hover:bg-parrot-orange text-white font-medium py-1 px-3 rounded-md transition duration-300 ease-in-out flex items-center gap-1 btn-animation"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                </svg>
                                ã‚³ãƒ”ãƒ¼
                            </button>
                        </div>
                        <textarea 
                            id="result" 
                            class="result-text w-full h-40 p-3 text-parrot-orange border border-parrot-yellow rounded-lg focus:outline-none focus:ring-2 focus:ring-parrot-orange resize-none bg-white bg-opacity-90"
                            readonly
                        >é¸æŠã•ã‚ŒãŸæ—¥æ™‚ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠã®å‡¦ç†
            const teeChan = document.getElementById('tee-chan');
            const cocoChan = document.getElementById('coco-chan');
            let selectedCharacter = 'tee'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ†ã‚£ãƒ¼ã¡ã‚ƒã‚“
            
            teeChan.addEventListener('click', function() {
                teeChan.classList.add('selected');
                cocoChan.classList.remove('selected');
                selectedCharacter = 'tee';
                
                // ãƒ†ã‚­ã‚¹ãƒˆã®è‰²ã‚’æ›´æ–°
                teeChan.querySelector('span:last-child').classList.remove('text-gray-500');
                teeChan.querySelector('span:last-child').classList.add('text-parrot-orange');
                cocoChan.querySelector('span:last-child').classList.remove('text-parrot-orange');
                cocoChan.querySelector('span:last-child').classList.add('text-gray-500');
                
                updateResult(); // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¤‰æ›´æ™‚ã«çµæœã‚’æ›´æ–°
            });
            
            cocoChan.addEventListener('click', function() {
                cocoChan.classList.add('selected');
                teeChan.classList.remove('selected');
                selectedCharacter = 'coco';
                
                // ãƒ†ã‚­ã‚¹ãƒˆã®è‰²ã‚’æ›´æ–°
                cocoChan.querySelector('span:last-child').classList.remove('text-gray-500');
                cocoChan.querySelector('span:last-child').classList.add('text-parrot-orange');
                teeChan.querySelector('span:last-child').classList.remove('text-parrot-orange');
                teeChan.querySelector('span:last-child').classList.add('text-gray-500');
                
                updateResult(); // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¤‰æ›´æ™‚ã«çµæœã‚’æ›´æ–°
            });
            
            // æ™‚é–“é¸æŠè‚¢ã‚’ç”Ÿæˆï¼ˆ15åˆ†å˜ä½ï¼‰
            function populateTimeOptions(selectElement) {
                for (let hour = 0; hour < 24; hour++) {
                    for (let minute of [0, 15, 30, 45]) {
                        const hourStr = String(hour).padStart(2, '0');
                        const minuteStr = String(minute).padStart(2, '0');
                        const timeValue = `${hourStr}:${minuteStr}`;
                        const timeDisplay = `${hour}:${minuteStr}`;
                        
                        const option = document.createElement('option');
                        option.value = timeValue;
                        option.textContent = timeDisplay;
                        selectElement.appendChild(option);
                    }
                }
            }
            
            const startTimeSelect = document.getElementById('start-time');
            const endTimeSelect = document.getElementById('end-time');
            const noTimeCheckbox = document.getElementById('no-time');
            const timeSelectionContainer = document.getElementById('time-selection');
            
            populateTimeOptions(startTimeSelect);
            populateTimeOptions(endTimeSelect);
            
            // ä»Šæ—¥ã®æ—¥ä»˜ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã™ã‚‹
            const today = new Date();
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            document.getElementById('date-picker').value = `${yyyy}-${mm}-${dd}`;
            
            // ç¾åœ¨æ™‚åˆ»ã«åŸºã¥ã„ã¦æ¬¡ã®æ™‚é–“å¸¯ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«è¨­å®š
            const currentHour = today.getHours();
            const currentMinute = today.getMinutes();
            
            // æ¬¡ã®æ™‚é–“å¸¯ã‚’è¨ˆç®—ï¼ˆç¾åœ¨ã®åˆ†ãŒ45åˆ†ä»¥ä¸Šãªã‚‰æ¬¡ã®æ™‚é–“ã®0åˆ†ã€ãã‚Œä»¥å¤–ã¯ç¾åœ¨ã®æ™‚é–“ã®æ¬¡ã®15åˆ†å˜ä½ï¼‰
            let startHour, startMinute;
            
            if (currentMinute >= 45) {
                startHour = (currentHour + 1) % 24;
                startMinute = 0;
            } else {
                startHour = currentHour;
                startMinute = Math.ceil(currentMinute / 15) * 15;
            }
            
            const defaultStartTime = `${String(startHour).padStart(2, '0')}:${String(startMinute).padStart(2, '0')}`;
            
            // çµ‚äº†æ™‚é–“ã¯é–‹å§‹æ™‚é–“ã®1æ™‚é–“å¾Œã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«
            let endHour = (startHour + 1) % 24;
            let endMinute = startMinute;
            
            const defaultEndTime = `${String(endHour).padStart(2, '0')}:${String(endMinute).padStart(2, '0')}`;
            
            startTimeSelect.value = defaultStartTime;
            endTimeSelect.value = defaultEndTime;
            
            // æ™‚åˆ»ãªã—ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®å‡¦ç†
            noTimeCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    timeSelectionContainer.classList.add('disabled');
                } else {
                    timeSelectionContainer.classList.remove('disabled');
                }
            });
            
            // é–‹å§‹æ™‚é–“ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰ã€çµ‚äº†æ™‚é–“ã‚‚è‡ªå‹•èª¿æ•´ï¼ˆ1æ™‚é–“å¾Œã«è¨­å®šï¼‰
            startTimeSelect.addEventListener('change', function() {
                const startTime = this.value;
                const [startHourStr, startMinuteStr] = startTime.split(':');
                const startHour = parseInt(startHourStr);
                const startMinute = parseInt(startMinuteStr);
                
                // çµ‚äº†æ™‚é–“ã‚’é–‹å§‹æ™‚é–“ã®1æ™‚é–“å¾Œã«è¨­å®šï¼ˆ24æ™‚é–“ã‚’è¶…ãˆã‚‹å ´åˆã¯å¾ªç’°ï¼‰
                const newEndHour = (startHour + 1) % 24;
                const newEndMinute = startMinute;
                
                endTimeSelect.value = `${String(newEndHour).padStart(2, '0')}:${String(newEndMinute).padStart(2, '0')}`;
            });
            
            // é¸æŠã•ã‚ŒãŸæ—¥æ™‚ã‚’ä¿å­˜ã™ã‚‹é…åˆ—
            let selectedDates = [];
            
            // è¿½åŠ ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
            document.getElementById('add-btn').addEventListener('click', addDateTime);
            
            // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
            document.getElementById('copy-btn').addEventListener('click', copyResult);
            
            function addDateTime() {
                const datePicker = document.getElementById('date-picker');
                const noTime = document.getElementById('no-time').checked;
                
                // æ—¥ä»˜ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
                if (!datePicker.value) {
                    alert('æ—¥ä»˜ã‚’é¸æŠã—ã¦ãã ã•ã„');
                    return;
                }
                
                let dateTimeCombo;
                
                if (noTime) {
                    // æ™‚åˆ»ãªã—ã®å ´åˆ
                    const selectedDate = new Date(datePicker.value);
                    dateTimeCombo = {
                        date: selectedDate,
                        noTime: true
                    };
                    
                    // é‡è¤‡ãƒã‚§ãƒƒã‚¯
                    const isDuplicate = selectedDates.some(item => 
                        item.noTime && 
                        item.date.getFullYear() === selectedDate.getFullYear() &&
                        item.date.getMonth() === selectedDate.getMonth() &&
                        item.date.getDate() === selectedDate.getDate()
                    );
                    
                    if (isDuplicate) {
                        alert('ã“ã®æ—¥ä»˜ã¯æ—¢ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™');
                        return;
                    }
                } else {
                    // æ™‚åˆ»ã‚ã‚Šã®å ´åˆ
                    const startTime = document.getElementById('start-time').value;
                    const endTime = document.getElementById('end-time').value;
                    
                    // é¸æŠã•ã‚ŒãŸæ—¥ä»˜ã¨æ™‚é–“ã‚’å–å¾—
                    const startDate = new Date(`${datePicker.value}T${startTime}`);
                    
                    // çµ‚äº†æ™‚é–“ã®å‡¦ç†
                    const [endHourStr, endMinuteStr] = endTime.split(':');
                    const endHour = parseInt(endHourStr);
                    const endMinute = parseInt(endMinuteStr);
                    
                    // é–‹å§‹æ™‚é–“ã®å–å¾—
                    const [startHourStr, startMinuteStr] = startTime.split(':');
                    const startHour = parseInt(startHourStr);
                    const startMinute = parseInt(startMinuteStr);
                    
                    // çµ‚äº†æ—¥ã‚’è¨ˆç®—ï¼ˆé–‹å§‹æ™‚é–“ã‚ˆã‚Šå‰ãªã‚‰ç¿Œæ—¥ã¨åˆ¤æ–­ï¼‰
                    const endDate = new Date(`${datePicker.value}T${endTime}`);
                    if (endHour < startHour || (endHour === startHour && endMinute <= startMinute)) {
                        endDate.setDate(endDate.getDate() + 1);
                    }
                    
                    dateTimeCombo = {
                        start: startDate,
                        end: endDate,
                        noTime: false
                    };
                    
                    // é‡è¤‡ãƒã‚§ãƒƒã‚¯
                    const isDuplicate = selectedDates.some(item => 
                        !item.noTime &&
                        item.start.getTime() === dateTimeCombo.start.getTime() && 
                        item.end.getTime() === dateTimeCombo.end.getTime()
                    );
                    
                    if (isDuplicate) {
                        alert('ã“ã®æ—¥æ™‚ã¯æ—¢ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™');
                        return;
                    }
                }
                
                // é…åˆ—ã«è¿½åŠ 
                selectedDates.push(dateTimeCombo);
                
                // æ—¥ä»˜ã‚’ã‚½ãƒ¼ãƒˆï¼ˆå¤ã„é †ï¼‰
                selectedDates.sort((a, b) => {
                    const dateA = a.noTime ? a.date : a.start;
                    const dateB = b.noTime ? b.date : b.start;
                    return dateA - dateB;
                });
                
                // ãƒªã‚¹ãƒˆã‚’æ›´æ–°
                updateDateList();
                
                // çµæœã‚’æ›´æ–°
                updateResult();
                
                // è¿½åŠ ãƒœã‚¿ãƒ³ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
                const addBtn = document.getElementById('add-btn');
                addBtn.classList.add('add-success');
                addBtn.classList.add('sparkle-animation');
                setTimeout(() => {
                    addBtn.classList.remove('add-success');
                    addBtn.classList.remove('sparkle-animation');
                }, 600);
            }
            
            function formatDateTime(dateTimeCombo) {
                // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã«åŸºã¥ã„ãŸã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹
                const characterSuffix = selectedCharacter === 'tee' ? ' ãƒ†ã‚£ãƒ¼ã¡ã‚ƒã‚“' : ' ã‚³ã‚³ã¡ã‚ƒã‚“';
                
                // ãƒãƒ³ã‚´ãƒ¼ã®çµµæ–‡å­—ã‚’å…ˆé ­ã«è¿½åŠ 
                const prefix = 'ğŸ¥­ ';
                
                if (dateTimeCombo.noTime) {
                    // æ™‚åˆ»ãªã—ã®å ´åˆ
                    const date = dateTimeCombo.date;
                    
                    // æ—¥æœ¬èªã®æ›œæ—¥
                    const weekdays = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
                    
                    // æœˆã¨æ—¥ã‚’å–å¾—
                    const month = date.getMonth() + 1;
                    const day = date.getDate();
                    const weekday = date.getDay();
                    
                    // ãƒãƒ¼ãƒãƒ«è¡¨ç¤º
                    return prefix + `${month}æœˆ${day}æ—¥ï¼ˆ${weekdays[weekday]}ï¼‰` + characterSuffix;
                } else {
                    // æ™‚åˆ»ã‚ã‚Šã®å ´åˆ
                    const startDate = dateTimeCombo.start;
                    const endDate = dateTimeCombo.end;
                    
                    // æ—¥æœ¬èªã®æ›œæ—¥
                    const weekdays = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
                    
                    // æœˆã¨æ—¥ã‚’å–å¾—
                    const startMonth = startDate.getMonth() + 1;
                    const startDay = startDate.getDate();
                    const startWeekday = startDate.getDay();
                    
                    // é–‹å§‹æ™‚é–“ã¨åˆ†ã‚’å–å¾—
                    const startHours = startDate.getHours();
                    const startMinutes = String(startDate.getMinutes()).padStart(2, '0');
                    
                    // çµ‚äº†æ™‚é–“ã¨åˆ†ã‚’å–å¾—
                    const endHours = endDate.getHours();
                    const endMinutes = String(endDate.getMinutes()).padStart(2, '0');
                    
                    // æ—¥ä»˜ãŒç•°ãªã‚‹å ´åˆï¼ˆç¿Œæ—¥ã«ã¾ãŸãŒã‚‹å ´åˆï¼‰
                    const isSameDay = startDate.getDate() === endDate.getDate() && 
                                     startDate.getMonth() === endDate.getMonth() && 
                                     startDate.getFullYear() === endDate.getFullYear();
                    
                    if (!isSameDay) {
                        // ç¿Œæ—¥ã«ã¾ãŸãŒã‚‹å ´åˆã®è¡¨ç¤º
                        const endMonth = endDate.getMonth() + 1;
                        const endDay = endDate.getDate();
                        const endWeekday = endDate.getDay();
                        
                        // ãƒãƒ¼ãƒãƒ«è¡¨ç¤º
                        return prefix + `${startMonth}æœˆ${startDay}æ—¥ï¼ˆ${weekdays[startWeekday]}ï¼‰ ${startHours}:${startMinutes}ã€œ${endMonth}æœˆ${endDay}æ—¥ï¼ˆ${weekdays[endWeekday]}ï¼‰ ${endHours}:${endMinutes}` + characterSuffix;
                    } else {
                        // åŒã˜æ—¥ã®å ´åˆ
                        // ãƒãƒ¼ãƒãƒ«è¡¨ç¤º
                        return prefix + `${startMonth}æœˆ${startDay}æ—¥ï¼ˆ${weekdays[startWeekday]}ï¼‰ ${startHours}:${startMinutes}ã€œ${endHours}:${endMinutes}` + characterSuffix;
                    }
                }
            }
            
            function updateDateList() {
                const dateList = document.getElementById('date-list');
                dateList.innerHTML = '';
                
                if (selectedDates.length === 0) {
                    const emptyMessage = document.createElement('div');
                    emptyMessage.className = 'text-parrot-orange text-sm italic text-center py-2';
                    emptyMessage.textContent = 'æ—¥æ™‚ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“';
                    dateList.appendChild(emptyMessage);
                    return;
                }
                
                selectedDates.forEach((dateTimeCombo, index) => {
                    const dateItem = document.createElement('div');
                    dateItem.className = 'date-item flex justify-between items-center p-2 bg-white bg-opacity-70 rounded-lg border border-parrot-yellow';
                    dateItem.dataset.index = index;
                    
                    const dateText = document.createElement('span');
                    dateText.className = 'text-sm text-parrot-orange';
                    dateText.textContent = formatDateTime(dateTimeCombo);
                    
                    const removeBtn = document.createElement('button');
                    removeBtn.className = 'text-parrot-orange hover:text-parrot-orange focus:outline-none flex-shrink-0 ml-2';
                    removeBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" /></svg>';
                    removeBtn.addEventListener('click', function() {
                        removeDateItem(index, dateItem);
                    });
                    
                    const textContainer = document.createElement('div');
                    textContainer.className = 'flex-grow pr-2';
                    textContainer.appendChild(dateText);
                    
                    dateItem.appendChild(textContainer);
                    dateItem.appendChild(removeBtn);
                    dateList.appendChild(dateItem);
                });
            }
            
            function removeDateItem(index, element) {
                // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœã‚’è¿½åŠ 
                element.classList.add('date-item-remove');
                
                setTimeout(() => {
                    // é…åˆ—ã‹ã‚‰å‰Šé™¤
                    selectedDates.splice(index, 1);
                    
                    // ãƒªã‚¹ãƒˆã‚’æ›´æ–°
                    updateDateList();
                    
                    // çµæœã‚’æ›´æ–°
                    updateResult();
                }, 300);
            }
            
            function updateResult() {
                const result = document.getElementById('result');
                
                if (selectedDates.length === 0) {
                    result.value = 'é¸æŠã•ã‚ŒãŸæ—¥æ™‚ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™';
                    return;
                }
                
                // é¸æŠã•ã‚ŒãŸæ—¥æ™‚ã‚’æ•´å½¢ã—ã¦çµåˆ
                const formattedDates = selectedDates.map(dateTimeCombo => 
                    formatDateTime(dateTimeCombo)
                );
                
                result.value = formattedDates.join('\n');
                
                // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
                result.style.opacity = '0.7';
                setTimeout(() => {
                    result.style.opacity = '1';
                }, 150);
            }
            
            function copyResult() {
                const result = document.getElementById('result');
                const copyBtn = document.getElementById('copy-btn');
                
                // ãƒ†ã‚­ã‚¹ãƒˆãŒç©ºã¾ãŸã¯åˆæœŸå€¤ã®å ´åˆã¯ã‚³ãƒ”ãƒ¼ã—ãªã„
                if (result.value === '' || result.value === 'é¸æŠã•ã‚ŒãŸæ—¥æ™‚ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™') {
                    alert('ã‚³ãƒ”ãƒ¼ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆãŒã‚ã‚Šã¾ã›ã‚“');
                    return;
                }
                
                // ãƒ†ã‚­ã‚¹ãƒˆã‚’é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼
                result.select();
                document.execCommand('copy');
                
                // é¸æŠã‚’è§£é™¤
                window.getSelection().removeAllRanges();
                
                // ã‚³ãƒ”ãƒ¼æˆåŠŸã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                const originalText = copyBtn.innerHTML;
                copyBtn.classList.add('copy-success');
                copyBtn.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    ã‚³ãƒ”ãƒ¼å®Œäº†
                `;
                
                // å…ƒã«æˆ»ã™
                setTimeout(() => {
                    copyBtn.classList.remove('copy-success');
                    copyBtn.innerHTML = originalText;
                }, 2000);
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93e5964dc51cd553',t:'MTc0NzAwNzUxNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
<!-- partial -->
  
</body>
</html>
